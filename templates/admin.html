{% extends "base.html" %}
{% block content %}
<h1>Admin Panel</h1>
<p>{{ message }}</p>

<h2>Add Artist</h2>
<form method="post" enctype="multipart/form-data">
  <input type="hidden" name="action" value="add_artist">
  <input type="text" name="name" placeholder="Artist name" required>
  <textarea name="bio" placeholder="Bio"></textarea>
  <input type="file" name="image">
  <button type="submit" class="btn">Add Artist</button>
</form>

<h2>Upload Song</h2>
<form method="post" enctype="multipart/form-data">
  <input type="hidden" name="action" value="upload_song">
  <input type="text" name="title" placeholder="Song title" required>
  <input type="text" name="artist" placeholder="Artist" required>
  <input type="text" name="producer" placeholder="Producer">
  <input type="text" name="features" placeholder="Features">
  <input type="file" name="audio" required>
  <input type="file" name="image">
  <button type="submit" class="btn">Upload Song</button>
</form>

<h2>Manage Songs</h2>
{% for song in songs %}
<div class="card">
  <h3>{{ song.title }}</h3>
  <form method="post">
    <input type="hidden" name="action" value="delete_song">
    <input type="hidden" name="song_id" value="{{ song.id }}">
    <button type="submit" class="btn danger">Delete</button>
  </form>
</div>
{% endfor %}

<h2>Manage Artists</h2>
{% for artist in artists %}
<div class="card">
  <h3>{{ artist.name }}</h3>
  <form method="post">
    <input type="hidden" name="action" value="delete_artist">
    <input type="hidden" name="artist_id" value="{{ artist.id }}">
    <button type="submit" class="btn danger">Delete</button>
  </form>
</div>
{% endfor %}
{% endblock %}
